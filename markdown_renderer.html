<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crush Self-Learning System</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css">
    <script src="https://cdn.jsdelivr.net/npm/marked@14.1.2/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <style>
        * { box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 1200px; margin: 0 auto; padding: 2rem 1rem; line-height: 1.6; color: #333; }
        nav#menu { position: sticky; top: 0; background: rgba(0,0,0,0.9); backdrop-filter: blur(10px); display: flex; flex-wrap: wrap; justify-content: center; padding: 1rem; margin: -2rem -1rem 2rem -1rem; z-index: 100; }
        nav#menu.hidden { display: none; }
        nav a { color: white; text-decoration: none; padding: 0.5rem 1rem; margin: 0 0.5rem; border-radius: 0.25rem; transition: background 0.3s; }
        nav a:hover { background: rgba(255,255,255,0.2); }
        #debug-btn { position: fixed; bottom: 2rem; right: 2rem; background: #007bff; color: white; border: none; padding: 1rem; border-radius: 50%; cursor: pointer; font-size: 1.2rem; box-shadow: 0 4px 12px rgba(0,123,255,0.4); z-index: 200; }
        #debug-btn:hover { background: #0056b3; }
        #content { margin-top: 2rem; }
        h1, h2, h3 { color: #000; }
        code { background: #f4f4f4; padding: 0.2rem 0.4rem; border-radius: 3px; }
        pre { background: #f4f4f4; padding: 1rem; border-radius: 8px; overflow-x: auto; }
        iframe { max-width: 100%; height: 400px; border-radius: 8px; }
        @media (max-width: 768px) {
            body { padding: 1rem 0.5rem; }
            nav { flex-direction: column; padding: 0.5rem; }
            nav a { margin: 0.25rem 0; }
        }
    </style>
</head>
<body>
    <nav id="menu" class="hidden">
        <a href="index.html">ğŸ  Home</a>
        <a href="markdown_renderer.html?file=1_Real_Unknown/index.md">1_Real_Unknown âœ¨</a>
        <a href="markdown_renderer.html?file=2_Environment/index.md">2_Environment ğŸ› </a>
        <a href="markdown_renderer.html?file=3_Simulation/index.md">3_Simulation ğŸ¨</a>
        <a href="markdown_renderer.html?file=4_Formula/index.md">4_Formula ğŸ“‹</a>
        <a href="markdown_renderer.html?file=5_Symbols/index.md">5_Symbols ğŸ’»</a>
        <a href="markdown_renderer.html?file=6_Semblance/index.md">6_Semblance ğŸ›</a>
        <a href="markdown_renderer.html?file=7_Testing_Known/index.md">7_Testing_Known ğŸ§ª</a>
    </nav>
    <button id="debug-btn" onclick="toggleDebug()" title="Toggle Debug Menu">ğŸ”§</button>
    <article id="content">Loading...</article>

    <script>
        function getCookie(name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            if (parts.length === 2) return parts.pop().split(';').shift();
        }

        function toggleDebug() {
            document.cookie = 'debug=true; path=/; max-age=86400';
            location.reload();
        }

        const urlParams = new URLSearchParams(window.location.search);
        const file = urlParams.get('file');
        const menu = document.getElementById('menu');
        if (getCookie('debug') === 'true') {
            menu.classList.remove('hidden');
        }

        if (file) {
            fetch(decodeURIComponent(file))
                .then(response => response.text())
                .then(text => {
                    const content = marked.parse(text, { breaks: true, gfm: true });
                    document.getElementById('content').innerHTML = content;
                    Prism.highlightAll();
                })
                .catch(err => {
                    document.getElementById('content').innerHTML = '<h2>Error loading file</h2><p>' + err + '</p>';
                });
        }
    </script>
</body>
</html>